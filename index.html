<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English-Balochi Dictionary</title>
    <link rel="stylesheet" href="style.css">
    <script src="./index.js"></script>
   <!--- <script src="index.js"></script> -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

</head>
<body>
    <!--Hamburger menu dropdown-->
    <div class="menu-container">
        <i class="material-icons" id="toggle-btn">menu</i>
        <ul class="menu" id="menu">
          <a href="./index.html" id="hamburger-home"><li>Home</li></a>
          <a href="About"><li>About</li></a>
          <a href="Contact"><li>Contact</li></a>
        </ul>

    </div>
    
      
    
   <!-- Icons container -->
   <div class="icons-container">
    <a href="./notification.html"><span class="material-symbols-outlined" id="notification">notifications</span></a>
    <a href="./account.html"><span class="material-symbols-outlined" id="account">account_circle</span></a>
  </div>

  <div class="header-container">
    <div class="title-name">
      <h1 id="eng-balochi"><img src="./Images/flc_design20230306122308.png"></h1>
    </div>
  
    <form>
      <div class="search-container">
        <input type="text" id="search-input" name="search-input" placeholder="English-Balochi translation...">
        <button type="submit"><span class="material-symbols-outlined" id="search-icon">search</span></button>
        <p id="word-of-the-day"></p>
      </div>
    </form>
  </div>
  

  <!--main content-->
    <main>
       
  
    </main>
      

    <!--Right column menu-->
    <nav class="Right-column-menu">
        <div class="Right-column-menu-content"></div>
         <a href="./index.html"><span class="material-symbols-outlined" id="home">Home</span></a>
         <a href="./favorite.html"><span class="material-symbols-outlined" id="favorite">video_library</span></a>
         <a href="./bookmark.html"><span class="material-symbols-outlined" id="bookmark">bookmark</span></a>
         </div>
    </nav>

</body>
</html>

<script>
  // Get toggle button and menu
const toggleBtn = document.getElementById("toggle-btn");
const menu = document.getElementById("menu");

// Add click event listener to toggle button
toggleBtn.addEventListener("click", () => {
  // Toggle open class on menu
  menu.classList.toggle("menu-open");
});

/* JavaScript code to close hamburger menu when clicking on main page */
document.addEventListener('click', function(event) {
  var menu = document.querySelector('.menu');
  var menuContainer = document.querySelector('.menu-container');
  if (menu.classList.contains('menu-open') && !menuContainer.contains(event.target)) {
    menu.classList.remove('menu-open');
  }
});





//Selecting Right column menu icons
const home = document.querySelector('#home');
const favorite = document.querySelector('#favorite');
const bookmark = document.querySelector('#bookmark');
const hamburgerHome = document.querySelector('#hamburger-home');
const notification = document.querySelector('#notification');
const account = document.querySelector('#account');

const activeIcon = localStorage.getItem('activeIcon');
if (activeIcon) {
  const activeElement = document.querySelector(`#${activeIcon}`);
  if (activeElement) {
    activeElement.classList.add('active');
  } else {
    console.error(`Element with id ${activeIcon} not found`);
  }
} else {
  // Otherwise, set the home icon as active by default
  home.classList.add('active');
}


home.addEventListener('click', () => {
  // Set the active icon in localStorage
  localStorage.setItem('activeIcon', 'home');
  // Navigate to the home page
  window.location.href = './index.html';
});

favorite.addEventListener('click', () => {
  // Set the active icon in localStorage
  localStorage.setItem('activeIcon', 'favorite');
  // Navigate to the favorite page
  window.location.href = './favorite.html';
});

bookmark.addEventListener('click', () => {
  // Set the active icon in localStorage
  localStorage.setItem('activeIcon', 'bookmark');
  // Navigate to the bookmark page
  window.location.href = './bookmark.html';
});

notification.addEventListener('click', () => {
  // Set the active icon in localStorage
  localStorage.setItem('activeIcon', 'notification');
  // Navigate to the notification page
  window.location.href = './notification.html';
});

account.addEventListener('click', () => {
    // Set the active icon in localStorage
    localStorage.setItem('activeIcon', 'account');
    // Navigate to the account page
    window.location.href = './account.html';
});

// Selecting the necessary elements
const wordlist = words; //  "words" is defined elsewhere
const mainContainer = document.querySelector('main');
const form = document.querySelector('form');
const searchInput = document.querySelector('#search-input');

// Event listener for the form submission
form.addEventListener('submit', function(event) {
  event.preventDefault(); // Prevent the default form submission behavior
  const searchedWord = searchInput.value.trim(); // Get the trimmed input value

  // Check if the input is not empty and is valid
  if (searchedWord && validateInput(searchedWord)) {
    const result = findWord(searchedWord, wordlist); // Find the matching word

    if (result) {
      // If the word is found, display its details
      displayWord(result);
    } else {
      // If the word is not found, display a message
      displayNotFound(searchedWord);
    }

    // Clear the search input
    searchInput.value = '';
  }
});

// Function to validate the user input
function validateInput(input) {
  // Input should contain only letters and spaces
  const regex = /^[a-zA-Z\s]+$/;
  return regex.test(input);
}

// Function to find a word in the wordlist
function findWord(word, wordlist) {
  return wordlist.find((obj) => obj.word === word.toLowerCase());
}

// Function to display a word's details
function displayWord(word) {
  // Remove any previously displayed content
  mainContainer.innerHTML = '';

  const output =
  `<div class="outputWords">
   <h3 id="word">
    ${word.word.bold()}
    <div class="bookmark-icon" data-word="${word.word}">
      <span class="material-symbols-outlined" id="bookmark-icon">bookmark</span>
    </div>
    <p id="word-info"><i>${word.type}</i> ${word.pronunciation}<br/><br/>
        ${word.meanings.map((meaning, index) => `${index+1}. ${meaning}`).join("<br/>")}
    </p>
    </div>`;
    mainContainer.insertAdjacentHTML('beforeend', output);

    const bookmarkIcon = document.querySelector('#bookmark-icon');
    const wordSelector = document.querySelector('.bookmark-icon');

  bookmarkIcon.addEventListener('click', () => {
  console.log(wordSelector.dataset.word);
  const word = wordSelector.dataset.word; // Retrieve the associated word from the data-word attribute.
  saveToBookmarks(word); // Call the saveToBookmarks function to save the word to the bookmarks.html page.
});

 
  
}


// Function to display a message when the word is not found
function displayNotFound(word) {
  // Remove any previously displayed content
  mainContainer.innerHTML = '';

  const message = 
  `<div class="outputWords">
    <p>
      <strong>"${word}"</strong> was not found in the dictionary.
    </p>
    <p class="word-info-line">
      The English-Balochi translation dictionary is currently under development.
    </p>
  </div>`;
  mainContainer.insertAdjacentHTML('beforeend', message);

  
}




// 4. Define the saveToBookmarks function.
function saveToBookmarks(word) {
  
  const bookmarks = JSON.parse(localStorage.getItem('bookmarks')) || []; // Retrieve the bookmarks from the browser's memory or initialize an empty array if no bookmarks exist.
  if (!bookmarks.includes(word)) { // Check if the word is already in the bookmarks array.
    bookmarks.push(word); // If not, add it to the bookmarks array.
    console.log(word, bookmarks); //
    localStorage.setItem('bookmarks', JSON.stringify(bookmarks)); // Save the updated bookmarks array to the browser's memory.
  }
  
}





</script>